{"version":3,"sources":["app.js"],"names":["sidebar","document","querySelector","closeBtn","searchBtn","Logout","menuBtnChange","classList","contains","replace","async","ConsultarAPI","url","Respuesta","fetch","ImprimirUsuarios","json","error","console","log","usuarios","tableUser","forEach","usuario","id","nombre_usuario","apellidopa_usuario","apellidoma_usuario","usuario_usuario","rol","tr","createElement","tdId","textContent","tdNombre","tdApellidopa","tdApellidoma","tdUsuario","tdRol","tdAcciones","add","aEdit","href","innerHTML","form","action","method","input","type","name","value","button","appendChild","Alert","e","preventDefault","Swal","mixin","customClass","confirmButton","cancelButton","buttonsStyling","fire","title","icon","showCancelButton","confirmButtonText","cancelButtonText","reverseButtons","then","result","isConfirmed","window","location","dismiss","DismissReason","cancel","close","addEventListener","toggle"],"mappings":"AACA,IAAAA,QAAAC,SAAAC,cAAA,YACAC,SAAAF,SAAAC,cAAA,QACAE,UAAAH,SAAAC,cAAA,cACA,MAAAG,OAAAJ,SAAAC,cAAA,WAgBA,SAAAI,gBACAN,QAAAO,UAAAC,SAAA,QACAL,SAAAI,UAAAE,QAAA,UAAA,qBAEAN,SAAAI,UAAAE,QAAA,oBAAA,WAMAC,eAAAC,eACA,IACA,MAAAC,EAAA,oCACAC,QAAAC,MAAAF,GAEAG,uBADAF,EAAAG,QAEA,MAAAC,GACAC,QAAAC,IAAAF,IAIA,SAAAF,iBAAAK,GACA,MAAAC,EAAApB,SAAAC,cAAA,eACAkB,EAAAE,QAAAC,IACA,MAAAC,GAAAA,EAAAC,eAAAA,EAAAC,mBAAAA,EAAAC,mBAAAA,EAAAC,gBAAAA,EAAAC,IAAAA,GAAAN,EAEAO,EAAA7B,SAAA8B,cAAA,MAEAC,EAAA/B,SAAA8B,cAAA,MACAC,EAAAC,YAAAT,EACA,MAAAU,EAAAjC,SAAA8B,cAAA,MACAG,EAAAD,YAAAR,EACA,MAAAU,EAAAlC,SAAA8B,cAAA,MACAI,EAAAF,YAAAP,EACA,MAAAU,EAAAnC,SAAA8B,cAAA,MACAK,EAAAH,YAAAN,EACA,MAAAU,EAAApC,SAAA8B,cAAA,MACAM,EAAAJ,YAAAL,EACA,MAAAU,EAAArC,SAAA8B,cAAA,MACAO,EAAAL,YAAAJ,EAEA,MAAAU,EAAAtC,SAAA8B,cAAA,MACAQ,EAAAhC,UAAAiC,IAAA,iBACA,MAAAC,EAAAxC,SAAA8B,cAAA,KACAU,EAAAC,KAAA,kCAAAlB,EACAiB,EAAAE,UAAA,wmBAMA,MAAAC,EAAA3C,SAAA8B,cAAA,QACAa,EAAAC,OAAA,sBACAD,EAAAE,OAAA,OACA,MAAAC,EAAA9C,SAAA8B,cAAA,SACAgB,EAAAC,KAAA,SACAD,EAAAE,KAAA,KACAF,EAAAG,MAAA1B,EAEA,MAAA2B,EAAAlD,SAAA8B,cAAA,UACAoB,EAAAH,KAAA,SACAG,EAAA5C,UAAAiC,IAAA,OACAW,EAAA5C,UAAAiC,IAAA,YACAW,EAAAR,UAAA,2lBAMAC,EAAAQ,YAAAL,GACAH,EAAAQ,YAAAD,GACAjC,QAAAC,IAAAyB,GACAL,EAAAa,YAAAX,GACAF,EAAAa,YAAAR,GAEAd,EAAAsB,YAAApB,GACAF,EAAAsB,YAAAlB,GACAJ,EAAAsB,YAAAjB,GACAL,EAAAsB,YAAAhB,GACAN,EAAAsB,YAAAf,GACAP,EAAAsB,YAAAd,GACAR,EAAAsB,YAAAb,GAEAlB,EAAA+B,YAAAtB,KAMA,SAAAuB,MAAAC,GACAA,EAAAC,iBACAC,KAAAC,MAAA,CACAC,YAAA,CACAC,cAAA,kBACAC,aAAA,kBAEAC,gBAAA,IAEAC,KAAA,CACAC,MAAA,kCACAC,KAAA,UACAC,kBAAA,EACAC,kBAAA,cACAC,iBAAA,gBACAC,gBAAA,IACAC,KAAAC,IACAA,EAAAC,YACAC,OAAAC,SAAA/B,KAAA,UAGA4B,EAAAI,UAAAlB,KAAAmB,cAAAC,QAEApB,KAAAqB,UA9HA5E,SAAA6E,iBAAA,mBAAA,KACA3E,SAAA2E,iBAAA,QAAA,KACA9E,QAAAO,UAAAwE,OAAA,QACAzE,kBAEAF,UAAA0E,iBAAA,QAAA,KACA9E,QAAAO,UAAAwE,OAAA,QACAzE,kBAEAD,OAAAyE,iBAAA,QAAAzB,OACA1C","file":"bundle.js","sourcesContent":["/* ***VARIABLES*** */\r\nlet sidebar = document.querySelector(\".sidebar\");\r\nlet closeBtn = document.querySelector(\"#btn\");\r\nlet searchBtn = document.querySelector(\".bx-search\");\r\nconst Logout = document.querySelector('#logout');\r\n/* ***EVENT LISTENERS*** */\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  closeBtn.addEventListener(\"click\", ()=>{\r\n    sidebar.classList.toggle(\"open\");\r\n    menuBtnChange();\r\n  });\r\n  searchBtn.addEventListener(\"click\", ()=>{ \r\n    sidebar.classList.toggle(\"open\");\r\n    menuBtnChange();\r\n  });\r\n  Logout.addEventListener('click', Alert);\r\n  ConsultarAPI();\r\n});\r\n\r\n/* ***FUNCIONES*** */\r\nfunction menuBtnChange() {\r\n if(sidebar.classList.contains(\"open\")){\r\n   closeBtn.classList.replace(\"bx-menu\", \"bx-menu-alt-right\");\r\n }else {\r\n   closeBtn.classList.replace(\"bx-menu-alt-right\",\"bx-menu\");\r\n }\r\n}\r\n\r\n/* ***API*** */\r\n\r\nasync function ConsultarAPI(){\r\n  try{\r\n    const url = 'http://localhost:3000/Api/usuario';\r\n    const Respuesta = await fetch(url);\r\n    const Usuarios = await Respuesta.json();\r\n    ImprimirUsuarios(Usuarios);\r\n  }catch(error){\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nfunction ImprimirUsuarios(usuarios){\r\n  const tableUser = document.querySelector('#table-user');\r\n  usuarios.forEach(usuario => {\r\n    const {id, nombre_usuario, apellidopa_usuario, apellidoma_usuario, usuario_usuario, rol} = usuario;\r\n\r\n    const tr = document.createElement('TR');\r\n\r\n    const tdId = document.createElement('TD');\r\n    tdId.textContent = id;\r\n    const tdNombre = document.createElement('TD');\r\n    tdNombre.textContent = nombre_usuario;\r\n    const tdApellidopa = document.createElement('TD');\r\n    tdApellidopa.textContent = apellidopa_usuario;\r\n    const tdApellidoma = document.createElement('TD');\r\n    tdApellidoma.textContent = apellidoma_usuario;\r\n    const tdUsuario = document.createElement('TD');\r\n    tdUsuario.textContent = usuario_usuario;\r\n    const tdRol = document.createElement('TD');\r\n    tdRol.textContent = rol;\r\n\r\n    const tdAcciones = document.createElement('TD');\r\n    tdAcciones.classList.add('acciones-edit');\r\n    const aEdit = document.createElement('A');\r\n    aEdit.href = `/Dashboard/dashboard?View=4&id=${id}`;\r\n    aEdit.innerHTML = `\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" fill=\"currentColor\" class=\"bi bi-pencil-square\" viewBox=\"0 0 16 16\">\r\n        <path d=\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\"/>\r\n        <path fill-rule=\"evenodd\" d=\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\"/>\r\n      </svg>\r\n    `;\r\n    const form = document.createElement('FORM');\r\n    form.action = '/Dashboard/eliminar';\r\n    form.method = 'POST';\r\n    const input = document.createElement('INPUT');\r\n    input.type = 'hidden';\r\n    input.name = 'id';\r\n    input.value = id;\r\n    \r\n    const button = document.createElement('BUTTON');\r\n    button.type = 'submit';\r\n    button.classList.add('btn');\r\n    button.classList.add('eliminar');\r\n    button.innerHTML = `\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25\" height=\"25\" fill=\"currentColor\" class=\"bi bi-trash\" viewBox=\"0 0 16 16\">\r\n      <path d=\"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z\"/>\r\n      <path fill-rule=\"evenodd\" d=\"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z\"/>\r\n    </svg>\r\n    `;\r\n    form.appendChild(input);\r\n    form.appendChild(button);\r\n    console.log(form);\r\n    tdAcciones.appendChild(aEdit);\r\n    tdAcciones.appendChild(form);\r\n\r\n    tr.appendChild(tdId);\r\n    tr.appendChild(tdNombre);\r\n    tr.appendChild(tdApellidopa);\r\n    tr.appendChild(tdApellidoma);\r\n    tr.appendChild(tdUsuario);\r\n    tr.appendChild(tdRol);\r\n    tr.appendChild(tdAcciones);\r\n\r\n    tableUser.appendChild(tr);\r\n\r\n  });\r\n}\r\n\r\n/* ***SWEET ALERT*** */\r\nfunction Alert(e){\r\n  e.preventDefault();\r\n  const swalWithBootstrapButtons = Swal.mixin({\r\n    customClass: {\r\n      confirmButton: 'btn btn-success',\r\n      cancelButton: 'btn btn-danger'\r\n    },\r\n    buttonsStyling: false\r\n  });\r\n  swalWithBootstrapButtons.fire({\r\n    title: '¿Estas seguro de cerrar sesión?',\r\n    icon: 'warning',\r\n    showCancelButton: true,\r\n    confirmButtonText: 'Si, seguro!',\r\n    cancelButtonText: 'No, cancelar!',\r\n    reverseButtons: true\r\n  }).then((result) => {\r\n    if (result.isConfirmed) {\r\n      window.location.href = '/logout';\r\n    } else if (\r\n      /* Read more about handling dismissals below */\r\n      result.dismiss === Swal.DismissReason.cancel\r\n    ) {\r\n      Swal.close();\r\n    }\r\n  })\r\n}\r\n"]}