let sidebar=document.querySelector(".sidebar"),closeBtn=document.querySelector("#btn");const Logout=document.querySelector("#logout"),BtnUpdateSpending=document.querySelector(".btn-gasto"),Modal=document.querySelector("#modal-gasto"),DeleteSpending=document.querySelectorAll("#btn-eliminar");function menuBtnChange(){sidebar.classList.contains("open")?closeBtn.classList.replace("bx-menu","bx-menu-alt-right"):closeBtn.classList.replace("bx-menu-alt-right","bx-menu")}function getId(e){let t;switch(e.preventDefault(),e.target.nodeName){case"path":t=e.target.parentElement.parentElement.id;break;case"svg":t=e.target.parentElement.id;break;default:t=e.target.id}t=document.querySelector("#idmodal").value}async function Errores(e){try{e.preventDefault();const t=document.querySelector("#descripcion").value,o=document.querySelector("#previsto").value,n=document.querySelector("#idmodal").value;if(""===t||""===o)return void ImprimirAlerta("Descripción y/o Gasto previsto Obligatorio");const a=new FormData(Modal),r="http://localhost:3000/Dashboard/modal",s=await fetch(r,{method:"POST",body:a});(await s.json()).resultado&&Swal.fire({icon:"success",title:"Gasto agregado",text:"Tu gasto fue agregado correctamente",button:"OK"}).then(()=>{setTimeout(()=>{window.location.href="http://localhost:3000/Dashboard/dashboard?View=8&id="+n},1e3)})}catch(e){Swal.fire({icon:"error",title:"Error",text:"Hubo un error al guardar tu gasto"})}}async function deleteSpen(e){try{e.preventDefault();const t=document.querySelector("#eliminar-gasto").value,o=new FormData;o.append("id",t);const n="http://localhost:3000/Dashboard/eliminar-gasto",a=await fetch(n,{method:"POST",body:o});(await a.json()).guardado&&Swal.fire({icon:"success",title:"Gasto Eliminado",text:"Tu gasto fue eliminado correctamente",button:"OK"}).then(()=>{window.location.reload()})}catch(e){Swal.fire({icon:"error",title:"Error",text:"Hubo un error al guardar tu gasto"})}}function ImprimirAlerta(e){const t=document.querySelector(".errores-modal");t.classList.contains("error-alerta")||(t.textContent=e,t.classList.add("error-alerta")),setTimeout(()=>{t.classList.remove("error-alerta"),t.textContent=""},5e3)}function Alert(e){e.preventDefault();Swal.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1}).fire({title:"¿Estas seguro de cerrar sesión?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, seguro!",cancelButtonText:"No, cancelar!",reverseButtons:!0}).then(e=>{e.isConfirmed?window.location.href="/logout":e.dismiss===Swal.DismissReason.cancel&&Swal.close()})}document.addEventListener("DOMContentLoaded",()=>{closeBtn.addEventListener("click",()=>{sidebar.classList.toggle("open"),menuBtnChange()}),Logout.addEventListener("click",Alert),BtnUpdateSpending.addEventListener("click",getId),DeleteSpending.forEach(e=>{e.addEventListener("submit",deleteSpen)}),Modal.addEventListener("submit",Errores)});
//# sourceMappingURL=bundle.js.map
